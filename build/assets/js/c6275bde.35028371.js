"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[269],{8453:(e,s,n)=>{n.d(s,{R:()=>l});var i=n(6540);const r={},o=i.createContext(r);function l(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}},9486:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"modules/module-1-ros2/nodes-topics-services","title":"ROS 2 Nodes, Topics, Services","description":"Introduction","source":"@site/docs/modules/module-1-ros2/01-nodes-topics-services.mdx","sourceDirName":"modules/module-1-ros2","slug":"/modules/module-1-ros2/nodes-topics-services","permalink":"/docs/modules/module-1-ros2/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/modules/module-1-ros2/01-nodes-topics-services.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"ROS 2 Nodes, Topics, Services","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: ROS 2 Fundamentals","permalink":"/docs/modules/module-1-ros2/"},"next":{"title":"rclpy: Bridging Python Agents to ROS 2","permalink":"/docs/modules/module-1-ros2/rclpy-python-agent"}}');var r=n(4848),o=n(8453);const l={sidebar_label:"ROS 2 Nodes, Topics, Services",sidebar_position:1},t="ROS 2 Nodes, Topics, Services",c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Nodes",id:"nodes",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Topics",id:"topics",level:2},{value:"Publisher Example",id:"publisher-example",level:3},{value:"Subscriber Example",id:"subscriber-example",level:3},{value:"Services",id:"services",level:2},{value:"Service Server Example",id:"service-server-example",level:3},{value:"Service Client Example",id:"service-client-example",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"RAG Summary",id:"rag-summary",level:2},{value:"Knowledge Check",id:"knowledge-check",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"ros-2-nodes-topics-services",children:"ROS 2 Nodes, Topics, Services"})}),"\n",(0,r.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(s.p,{children:"Robot Operating System 2 (ROS 2) serves as the nervous system for robotic applications, providing a framework for communication between different software components. This chapter introduces the fundamental communication patterns in ROS 2: Nodes, Topics, and Services."}),"\n",(0,r.jsx)(s.h2,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.p,{children:"A node is a process that performs computation. In ROS 2, nodes are designed to be modular and focused on a single task. Nodes communicate with each other using:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Topics for asynchronous, many-to-many communication"}),"\n",(0,r.jsx)(s.li,{children:"Services for synchronous, request-response communication"}),"\n",(0,r.jsx)(s.li,{children:"Actions for goal-oriented communication with feedback"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,r.jsxs)(s.p,{children:["In ROS 2, nodes are typically created by inheriting from the ",(0,r.jsx)(s.code,{children:"rclpy.Node"})," class:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node_name')\n        # Node initialization code here\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MyNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"topics",children:"Topics"}),"\n",(0,r.jsx)(s.p,{children:"Topics enable asynchronous communication through a publish-subscribe model. Publishers send messages to a topic, and subscribers receive messages from that topic. This decouples the timing of publishers and subscribers."}),"\n",(0,r.jsx)(s.h3,{id:"publisher-example",children:"Publisher Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass PublisherNode(Node):\n    def __init__(self):\n        super().__init__('publisher_node')\n        self.publisher = self.create_publisher(String, 'topic_name', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World'\n        self.publisher.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"subscriber-example",children:"Subscriber Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SubscriberNode(Node):\n    def __init__(self):\n        super().__init__('subscriber_node')\n        self.subscription = self.create_subscription(\n            String,\n            'topic_name',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n"})}),"\n",(0,r.jsx)(s.h2,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services provide synchronous request-response communication. A client sends a request to a service server, which processes the request and returns a response."}),"\n",(0,r.jsx)(s.h3,{id:"service-server-example",children:"Service Server Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"from example_interfaces.srv import AddTwoInts\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalService(Node):\n    def __init__(self):\n        super().__init__('minimal_service')\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n\n    def add_two_ints_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info('Incoming request\\na: %d b: %d' % (request.a, request.b))\n        return response\n"})}),"\n",(0,r.jsx)(s.h3,{id:"service-client-example",children:"Service Client Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"from example_interfaces.srv import AddTwoInts\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalClientAsync(Node):\n    def __init__(self):\n        super().__init__('minimal_client_async')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('service not available, waiting again...')\n        self.req = AddTwoInts.Request()\n\n    def send_request(self, a, b):\n        self.req.a = a\n        self.req.b = b\n        self.future = self.cli.call_async(self.req)\n        rclpy.spin_until_future_complete(self, self.future)\n        return self.future.result()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides Quality of Service settings to control the communication behavior between publishers and subscribers:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Reliability: Best effort or reliable delivery"}),"\n",(0,r.jsx)(s.li,{children:"Durability: Volatile or transient local"}),"\n",(0,r.jsx)(s.li,{children:"History: Keep all or keep last N messages"}),"\n",(0,r.jsx)(s.li,{children:"Depth: Size of the message queue"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Keep nodes focused on a single responsibility"}),"\n",(0,r.jsx)(s.li,{children:"Use descriptive names for topics, services, and nodes"}),"\n",(0,r.jsx)(s.li,{children:"Implement proper error handling"}),"\n",(0,r.jsx)(s.li,{children:"Use appropriate QoS settings for your application"}),"\n",(0,r.jsx)(s.li,{children:"Separate concerns between different nodes"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"rag-summary",children:"RAG Summary"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides the communication framework for robotic applications through Nodes (computational processes), Topics (publish-subscribe communication), and Services (request-response communication). Nodes are modular components that communicate asynchronously via topics or synchronously via services. Quality of Service settings control communication behavior to meet specific application requirements."}),"\n",(0,r.jsx)(s.h2,{id:"knowledge-check",children:"Knowledge Check"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"What is the difference between a publisher and a subscriber in ROS 2?"}),"\n",(0,r.jsx)(s.li,{children:"When would you use a service instead of a topic?"}),"\n",(0,r.jsx)(s.li,{children:"What are Quality of Service settings and why are they important?"}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);